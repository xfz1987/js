<!DOCTYPE HTML>
<html>
	<head>
		<meta charset="utf-8" />
		<title>示例2</title>
		<style>
			table{ width:500px; text-align:center;
				border-collapse:collapse;
			}
			td{border:1px solid gray;};
		</style>
		<script>
			var data=[
				{"id":101,"name":'可口可乐',"price":3.5,"count":30},
				{"id":103,"name":'百事可乐',"price":3.0,"count":50},
				{"id":111,"name":'非常可乐',"price":2.5,"count":10}
			];
		</script>
	</head>
	<body>
		<script>
			var table = null;
			function createTable(){
				table = document.createElement("table");
				table.border="1";
				var newRow = table.insertRow(table.rows.length);
				var first = data[0];
				for(var key in first){
					var td = newRow.insertCell(newRow.cells.length);
					td.innerHTML = key;
				}
				var td = newRow.insertCell(newRow.cells.length);
				td.innerHTML = "operate";
				init();
				document.body.appendChild(table);
			}
			function init(){
				for(var i=0,len=data.length;i<len;i++){
					var tr = table.insertRow(table.rows.length);
					for(var key in data[i]){
						var td = tr.insertCell(tr.cells.length);
						td.innerHTML = data[i][key];
					}
					var oper = tr.insertCell(tr.cells.length);
					var btn = document.createElement("button");
					btn.innerHTML = "删除";
					btn.onclick = function(){
						if(confirm("是否删除 [id=" + this.parentNode.parentNode.cells[0].innerHTML + "] 的产品信息?")){
							table.deleteRow(this.parentNode.parentNode.rowIndex);
							alert("删除成功！")
						}	
					};
					oper.appendChild(btn);
				}
			}
			createTable();
		</script>
	</body>
</html>
