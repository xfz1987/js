<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="content-type" type="text/html" charset="utf-8"/>
		<title>计算器</title>
		<style>
			
		</style>
	</head>
		
	<body>
		<div onclick="calc(event)">
			<input type = "button" value="1"/>
			<input type = "button" value="2"/>
			<input type = "button" value="3"/>
			<input type = "button" value="4"/><br/>
			<input type = "button" value="C"/>
			<input type = "button" value="+"/>
			<input type = "button" value="-"/>
			<input type = "button" value="="/><br/><br/>
		<div>
		<textarea style="resize:none;width:135px;height:100px;"></textarea>
		<script>
			var textarea = document.querySelector("textarea");
			function calc(event){
				var div = document.querySelector("div");
				//var event = window.event||event;
				var target = event.target||event.srcElement;
				if(target.nodeName == "INPUT"){
					switch(target.value){
						case "C":
							textarea.value = "";
							break;
						case "=":
							try{
								textarea.value = textarea.value + "=" + eval(textarea.value);
							}catch(err){
								textarea.value = err;
							}
							break;
						default:
							textarea.value += target.value;
					}
				}
			}
			

		</script>

	</body>
</html>
